[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

# ------------------------------------------------------------------
# | Project                                                        |
# ------------------------------------------------------------------

[project]
name = "pyventus"
dynamic = ["version"]
description = "A modern and robust Python package for event-driven programming that goes beyond traditional event emitter libraries."
readme = "README.md"
requires-python = ">=3.10"
license = { file = "LICENSE" }
authors = [
    { name = "Manuel Da Pena", email = "dapensoft@gmail.com" },
]
classifiers = [
    "Operating System :: OS Independent",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Software Development :: Libraries",
    "Topic :: Software Development",
    "Typing :: Typed",
]
keywords = []

# ------------------------------------------------------------------
# | Project Dependencies                                           |
# ------------------------------------------------------------------
# Pure Python implementation, no dependencies needed

dependencies = []

# ------------------------------------------------------------------
# | Project URLs                                                   |
# ------------------------------------------------------------------

[project.urls]
Homepage = "https://github.com/mdapena/pyventus"
Documentation = "https://github.com/mdapena/pyventus"
Repository = "https://github.com/mdapena/pyventus"

# ------------------------------------------------------------------
# | Project Optional dependencies                                  |
# ------------------------------------------------------------------

[project.optional-dependencies]
rq = ["rq>=1.15.0"]

all = [
    "rq>=1.15.0"
]

# ------------------------------------------------------------------
# | Hatch test environment                                         |
# ------------------------------------------------------------------

[tool.hatch.envs.test]
dependencies = [
    "pytest>=7.4.0",
    "pytest-asyncio>=0.21.0",
    "fakeredis>=2.20.0",
    "rq>=1.15.0",
]
[tool.hatch.envs.test.scripts]
run = "pytest -v"

# ------------------------------------------------------------------
# | Hatch docs environment                                         |
# ------------------------------------------------------------------

[tool.hatch.envs.docs]
dependencies = [
    "mkdocs-material>=9.4.0",
    "mkdocstrings[python]>=0.24.0",
]
[tool.hatch.envs.docs.scripts]
build = "mkdocs build --clean --strict"
serve = "mkdocs serve --dev-addr localhost:8000"

# ------------------------------------------------------------------
# | Dynamic Hatch Versioning                                       |
# ------------------------------------------------------------------

[tool.hatch.version]
path = "src/pyventus/__init__.py"
